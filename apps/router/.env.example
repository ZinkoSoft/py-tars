# Router Service Configuration

# =============================================================================
# MQTT Configuration
# =============================================================================
# MQTT broker connection URL
# Format: mqtt://[user:pass@]host[:port]
MQTT_URL=mqtt://localhost:1883

# =============================================================================
# Logging
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# Streaming Configuration
# =============================================================================
# Enable LLM-to-TTS streaming mode (0=disabled, 1=enabled)
ROUTER_LLM_TTS_STREAM=1

# Minimum characters to accumulate before flushing to TTS
ROUTER_STREAM_MIN=20

# Maximum characters before forced flush (prevents unbounded buffering)
ROUTER_STREAM_MAX=500

# Only flush on sentence boundaries (0=flush anytime, 1=boundary-only)
ROUTER_STREAM_BOUNDARY=1

# Maximum queue size for streaming messages
ROUTER_STREAM_QUEUE_MAXSIZE=100

# Queue overflow strategy: "drop" (discard new) or "block" (wait for space)
ROUTER_STREAM_QUEUE_OVERFLOW=drop

# Handler timeout in seconds (how long to wait for message handlers)
ROUTER_STREAM_HANDLER_TIMEOUT=30.0

# =============================================================================
# MQTT Topic Configuration
# =============================================================================
# All topics have sensible defaults. Override only if needed for custom routing.

# STT Topics
TOPIC_STT_FINAL=stt/final

# LLM Topics
TOPIC_LLM_REQUEST=llm/request
TOPIC_LLM_RESPONSE=llm/response
TOPIC_LLM_STREAM=llm/stream
TOPIC_LLM_CANCEL=llm/cancel

# TTS Topics
TOPIC_TTS_SAY=tts/say
TOPIC_TTS_STATUS=tts/status

# Wake Word Topics
TOPIC_WAKE_EVENT=wake/event

# Health Topics
TOPIC_HEALTH_STT=system/health/stt
TOPIC_HEALTH_TTS=system/health/tts
TOPIC_HEALTH_ROUTER=system/health/router
